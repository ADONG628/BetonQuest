<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="684px" preserveAspectRatio="none" style="width:933px;height:684px;background:#00000000;" version="1.1" viewBox="0 0 933 684" width="933px" zoomAndPan="magnify"><defs/><g><!--MD5=[8f5ecb6aa78bb8f3c37ca2af39a13428]
cluster org.betonquest.betonquest.api.schedule--><g id="cluster_org.betonquest.betonquest.api.schedule"><rect height="671" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;fill:none;" width="920" x="7" y="7"/><path d="M346,7 L346,16.2969 L336,26.2969 L7,26.2969 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="329" x="10" y="20.9951">org.betonquest.betonquest.api.schedule</text></g><!--MD5=[c680266cf9e454ca06c2d1bb8b683e6b]
class Schedule--><g id="elem_Schedule"><rect codeLine="17" fill="#E5F8FB" height="202.6719" id="Schedule" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="342" x="316" y="42"/><rect fill="#00B8D4" height="32" rx="2.5" ry="2.5" style="stroke:#00B8D4;stroke-width:0.5;" width="342" x="316" y="42"/><rect fill="#00B8D4" height="2.5" style="stroke:#00B8D4;stroke-width:0.5;" width="342" x="316" y="71.5"/><rect codeLine="17" fill="none" height="202.6719" id="Schedule" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="342" x="316" y="42"/><ellipse cx="449.75" cy="58" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M451.8281,59.8125 L452.2188,60.7969 L451.8281,60.7969 C451.375,60.7969 451.2656,60.8125 451.1094,60.9219 C450.8594,61.0781 450.7031,61.3594 450.7031,61.6563 C450.7031,61.9219 450.8438,62.1719 451.0625,62.3281 C451.2031,62.4531 451.4063,62.5 451.8281,62.5 L454.1875,62.5 C454.5469,62.5 454.7656,62.4688 454.9063,62.375 C455.1563,62.2344 455.3125,61.9375 455.3125,61.6563 C455.3125,61.375 455.1719,61.125 454.9531,60.9688 C454.7813,60.8281 454.625,60.7969 454.1563,60.7969 L450.7656,52.5938 L447.0938,52.5938 C446.6406,52.5938 446.5156,52.6094 446.3594,52.7031 C446.1094,52.875 445.9531,53.1563 445.9531,53.4375 C445.9531,53.7188 446.0938,53.9688 446.3125,54.1406 C446.4844,54.25 446.6563,54.2813 447.0938,54.2813 L448.1719,54.2813 L445.5313,60.7969 C445.1094,60.7969 444.9531,60.8125 444.7969,60.9219 C444.5469,61.0781 444.3906,61.3594 444.3906,61.6563 C444.3906,62.2188 444.7656,62.5 445.5156,62.5 L447.7813,62.5 C448.1406,62.5 448.3594,62.4688 448.4844,62.375 C448.75,62.2344 448.8906,61.9375 448.8906,61.6563 C448.8906,61.375 448.7656,61.125 448.5469,60.9531 C448.375,60.8281 448.2344,60.7969 447.7813,60.7969 L447.3906,60.7969 L447.7813,59.8125 L451.8281,59.8125 Z M451.125,58.1094 L448.4531,58.1094 L449.7969,54.8438 L451.125,58.1094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="66" x="470.25" y="62.8467">Schedule</text><line style="stroke:#000000;stroke-width:0.5;" x1="317" x2="657" y1="74" y2="74"/><ellipse cx="327" cy="85" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="316" x="336" y="90.9951">Schedule(ScheduleID, ConfigurationSection)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="317" x2="657" y1="98.2969" y2="98.2969"/><polygon fill="none" points="327,104.2969,331,108.2969,327,112.2969,323,108.2969" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="336" y="115.292">scheduleId : ScheduleID</text><polygon fill="none" points="327,120.5938,331,124.5938,327,128.5938,323,124.5938" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="336" y="131.5889">time : String</text><polygon fill="none" points="327,136.8906,331,140.8906,327,144.8906,323,140.8906" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="336" y="147.8857">events : List&lt;EventID&gt;</text><polygon fill="none" points="327,153.1875,331,157.1875,327,161.1875,323,157.1875" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="336" y="164.1826">catchup : CatchupStrategy</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="317" x2="657" y1="171.4844" y2="171.4844"/><ellipse cx="327" cy="182.4844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="336" y="188.4795">getId() : ScheduleID</text><ellipse cx="327" cy="198.7813" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="336" y="204.7764">getTime() : String</text><ellipse cx="327" cy="215.0781" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="336" y="221.0732">getEvents() : List&lt;EventID&gt;</text><ellipse cx="327" cy="231.375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231" x="336" y="237.3701">getCatchup() : CatchupStrategy</text></g><path d="M693,73 L693,134.5313 L652,86.1484 L693,142.5313 L693,204.0625 A0,0 0 0 0 693,204.0625 L911,204.0625 A0,0 0 0 0 911,204.0625 L911,83 L901,73 L693,73 A0,0 0 0 0 693,73 " fill="#ECF3FF" style="stroke:#181818;stroke-width:0.5;"/><path d="M901,73 L901,83 L911,83 L901,73 " fill="#ECF3FF" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="699" y="90.0669">❗ Each Schedule must define a</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="699" y="105.1997">constructor that takes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="699" y="120.3325">exactly these two arguments.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="699" y="135.4653"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="699" y="150.5981">Otherwise BetonQuest will not</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="699" y="165.731">be  able to construct a new</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="699" y="180.8638">instance while parsing the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="699" y="195.9966">configuration.</text><!--MD5=[e13b4104aa9f8dcffcf8529c2f35d3de]
class CatchupStrategy--><g id="elem_CatchupStrategy"><rect codeLine="42" fill="#E5F8FB" height="104.8906" id="CatchupStrategy" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="155" x="679.5" y="358"/><rect fill="#00B8D4" height="32" rx="2.5" ry="2.5" style="stroke:#00B8D4;stroke-width:0.5;" width="155" x="679.5" y="358"/><rect fill="#00B8D4" height="2.5" style="stroke:#00B8D4;stroke-width:0.5;" width="155" x="679.5" y="387.5"/><rect codeLine="42" fill="none" height="104.8906" id="CatchupStrategy" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="155" x="679.5" y="358"/><ellipse cx="694.5" cy="374" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M693.2969,374.875 L694.75,374.875 L694.75,374.9844 C694.75,375.3906 694.7813,375.5469 694.8594,375.7031 C695.0156,375.9531 695.2969,376.1094 695.5938,376.1094 C695.8438,376.1094 696.1094,375.9688 696.2656,375.75 C696.3906,375.5938 696.4219,375.4375 696.4219,374.9844 L696.4219,373.0625 C696.4219,372.9063 696.4219,372.8594 696.4063,372.7031 C696.3438,372.2344 696.0313,371.9219 695.5781,371.9219 C695.3281,371.9219 695.0625,372.0625 694.8906,372.2813 C694.7813,372.4531 694.75,372.6094 694.75,373.0625 L694.75,373.1875 L693.2969,373.1875 L693.2969,370.7813 L697.2813,370.7813 L697.2813,371.6406 C697.2813,372.0469 697.3125,372.2188 697.3906,372.375 C697.5625,372.625 697.8438,372.7813 698.125,372.7813 C698.3906,372.7813 698.6563,372.6406 698.8281,372.4219 C698.9375,372.25 698.9688,372.1094 698.9688,371.6406 L698.9688,369.0938 L691.3438,369.0938 C690.9063,369.0938 690.7813,369.1094 690.625,369.2031 C690.375,369.3594 690.2188,369.6563 690.2188,369.9375 C690.2188,370.2188 690.3594,370.4688 690.5781,370.6406 C690.7344,370.75 690.9219,370.7813 691.3438,370.7813 L691.5938,370.7813 L691.5938,377.2969 L691.3438,377.2969 C690.9375,377.2969 690.7813,377.3125 690.625,377.4219 C690.375,377.5938 690.2188,377.8594 690.2188,378.1563 C690.2188,378.4219 690.3594,378.6719 690.5781,378.8281 C690.7188,378.9531 690.9531,379 691.3438,379 L699.3438,379 L699.3438,376.4219 C699.3438,375.9844 699.3125,375.8438 699.2344,375.6875 C699.0625,375.4375 698.7813,375.2813 698.5,375.2813 C698.2344,375.2813 697.9688,375.3906 697.7969,375.6406 C697.6875,375.7969 697.6563,375.9375 697.6563,376.4219 L697.6563,377.2969 L693.2969,377.2969 L693.2969,374.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="708.5" y="378.8467">CatchupStrategy</text><line style="stroke:#000000;stroke-width:0.5;" x1="680.5" x2="833.5" y1="390" y2="390"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="685.5" y="406.9951">NONE</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="680.5" x2="833.5" y1="414.2969" y2="414.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="685.5" y="431.292">ONE</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="680.5" x2="833.5" y1="438.5938" y2="438.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="685.5" y="455.5889">ALL</text></g><!--MD5=[360bbd5fb28fd065afb3478fcbb568c2]
class CronSchedule--><g id="elem_CronSchedule"><rect codeLine="50" fill="#E5F8FB" height="210.6719" id="CronSchedule" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="344" x="300" y="305"/><rect fill="#00B8D4" height="32" rx="2.5" ry="2.5" style="stroke:#00B8D4;stroke-width:0.5;" width="344" x="300" y="305"/><rect fill="#00B8D4" height="2.5" style="stroke:#00B8D4;stroke-width:0.5;" width="344" x="300" y="334.5"/><rect codeLine="50" fill="none" height="210.6719" id="CronSchedule" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="344" x="300" y="305"/><ellipse cx="417.75" cy="321" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M419.8281,322.8125 L420.2188,323.7969 L419.8281,323.7969 C419.375,323.7969 419.2656,323.8125 419.1094,323.9219 C418.8594,324.0781 418.7031,324.3594 418.7031,324.6563 C418.7031,324.9219 418.8438,325.1719 419.0625,325.3281 C419.2031,325.4531 419.4063,325.5 419.8281,325.5 L422.1875,325.5 C422.5469,325.5 422.7656,325.4688 422.9063,325.375 C423.1563,325.2344 423.3125,324.9375 423.3125,324.6563 C423.3125,324.375 423.1719,324.125 422.9531,323.9688 C422.7813,323.8281 422.625,323.7969 422.1563,323.7969 L418.7656,315.5938 L415.0938,315.5938 C414.6406,315.5938 414.5156,315.6094 414.3594,315.7031 C414.1094,315.875 413.9531,316.1563 413.9531,316.4375 C413.9531,316.7188 414.0938,316.9688 414.3125,317.1406 C414.4844,317.25 414.6563,317.2813 415.0938,317.2813 L416.1719,317.2813 L413.5313,323.7969 C413.1094,323.7969 412.9531,323.8125 412.7969,323.9219 C412.5469,324.0781 412.3906,324.3594 412.3906,324.6563 C412.3906,325.2188 412.7656,325.5 413.5156,325.5 L415.7813,325.5 C416.1406,325.5 416.3594,325.4688 416.4844,325.375 C416.75,325.2344 416.8906,324.9375 416.8906,324.6563 C416.8906,324.375 416.7656,324.125 416.5469,323.9531 C416.375,323.8281 416.2344,323.7969 415.7813,323.7969 L415.3906,323.7969 L415.7813,322.8125 L419.8281,322.8125 Z M419.125,321.1094 L416.4531,321.1094 L417.7969,317.8438 L419.125,321.1094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="100" x="438.25" y="325.8467">CronSchedule</text><line style="stroke:#000000;stroke-width:0.5;" x1="301" x2="643" y1="337" y2="337"/><ellipse cx="311" cy="348" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="318" x="320" y="353.9951">DEFAULT_CRON_DEFINITION : CronDefinition</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="301" x2="643" y1="361.2969" y2="361.2969"/><polygon fill="none" points="311,367.2969,315,371.2969,311,375.2969,307,371.2969" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="320" y="378.292">timeCron : Cron</text><polygon fill="none" points="311,383.5938,315,387.5938,311,391.5938,307,387.5938" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227" x="320" y="394.5889">executionTime : ExecutionTime</text><polygon fill="none" points="311,399.8906,315,403.8906,311,407.8906,307,403.8906" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="320" y="410.8857">onReboot : boolean</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="301" x2="643" y1="418.1875" y2="418.1875"/><ellipse cx="311" cy="429.1875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="320" y="435.1826">getTimeCron() : Cron</text><ellipse cx="311" cy="445.4844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="262" x="320" y="451.4795">getExecutionTime() : ExecutionTime</text><ellipse cx="311" cy="461.7813" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224" x="320" y="467.7764">shouldRunOnReboot(): boolean</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="301" x2="643" y1="475.0781" y2="475.0781"/><ellipse cx="311" cy="486.0781" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="288" x="320" y="492.0732">getNextExecution() : Optional&lt;Instant&gt;</text><ellipse cx="311" cy="502.375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="284" x="320" y="508.3701">getLastExecution() : Optional&lt;Instant&gt;</text></g><!--MD5=[8523c9eb2e1b5151dfc9c2a797373c5f]
class Scheduler--><g id="elem_Scheduler"><rect codeLine="65" fill="#E5F8FB" height="170.0781" id="Scheduler" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="258" x="23" y="58.5"/><rect fill="#00B8D4" height="32" rx="2.5" ry="2.5" style="stroke:#00B8D4;stroke-width:0.5;" width="258" x="23" y="58.5"/><rect fill="#00B8D4" height="2.5" style="stroke:#00B8D4;stroke-width:0.5;" width="258" x="23" y="88"/><rect codeLine="65" fill="none" height="170.0781" id="Scheduler" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="258" x="23" y="58.5"/><ellipse cx="51.5" cy="74.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M53.5781,76.3125 L53.9688,77.2969 L53.5781,77.2969 C53.125,77.2969 53.0156,77.3125 52.8594,77.4219 C52.6094,77.5781 52.4531,77.8594 52.4531,78.1563 C52.4531,78.4219 52.5938,78.6719 52.8125,78.8281 C52.9531,78.9531 53.1563,79 53.5781,79 L55.9375,79 C56.2969,79 56.5156,78.9688 56.6563,78.875 C56.9063,78.7344 57.0625,78.4375 57.0625,78.1563 C57.0625,77.875 56.9219,77.625 56.7031,77.4688 C56.5313,77.3281 56.375,77.2969 55.9063,77.2969 L52.5156,69.0938 L48.8438,69.0938 C48.3906,69.0938 48.2656,69.1094 48.1094,69.2031 C47.8594,69.375 47.7031,69.6563 47.7031,69.9375 C47.7031,70.2188 47.8438,70.4688 48.0625,70.6406 C48.2344,70.75 48.4063,70.7813 48.8438,70.7813 L49.9219,70.7813 L47.2813,77.2969 C46.8594,77.2969 46.7031,77.3125 46.5469,77.4219 C46.2969,77.5781 46.1406,77.8594 46.1406,78.1563 C46.1406,78.7188 46.5156,79 47.2656,79 L49.5313,79 C49.8906,79 50.1094,78.9688 50.2344,78.875 C50.5,78.7344 50.6406,78.4375 50.6406,78.1563 C50.6406,77.875 50.5156,77.625 50.2969,77.4531 C50.125,77.3281 49.9844,77.2969 49.5313,77.2969 L49.1406,77.2969 L49.5313,76.3125 L53.5781,76.3125 Z M52.875,74.6094 L50.2031,74.6094 L51.5469,71.3438 L52.875,74.6094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="72" x="68.5" y="79.3467">Scheduler</text><rect height="15.9688" style="stroke:#000000;stroke-width:1.0;fill:none;stroke-dasharray:2.0,2.0;" width="122" x="162" y="55.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="120" x="163" y="67.6387">S extends Schedule</text><line style="stroke:#000000;stroke-width:0.5;" x1="24" x2="280" y1="90.5" y2="90.5"/><polygon fill="none" points="34,96.5,38,100.5,34,104.5,30,100.5" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232" x="43" y="107.4951">schedules : Map&lt;ScheduleID, S&gt;</text><polygon fill="none" points="34,112.7969,38,116.7969,34,120.7969,30,116.7969" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="43" y="123.792">running : boolean</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="24" x2="280" y1="131.0938" y2="131.0938"/><ellipse cx="34" cy="142.0938" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="43" y="148.0889">isRunning() : boolean</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="24" x2="280" y1="155.3906" y2="155.3906"/><ellipse cx="34" cy="166.3906" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="43" y="172.3857">start() : void</text><ellipse cx="34" cy="182.6875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="43" y="188.6826">stop() : void</text><ellipse cx="34" cy="198.9844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="43" y="204.9795">addSchedule(S) : void</text><ellipse cx="34" cy="215.2813" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="43" y="221.2764">executeEvents(S) : void</text></g><g id="elem_N2"><path d="M67,307 L67,513.7266 L265,513.7266 L265,317 L255,307 L67,307 " fill="#ECF3FF" style="stroke:#181818;stroke-width:0.5;"/><path d="M255,307 L255,317 L265,317 L255,307 " fill="#ECF3FF" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="73" y="324.0669">&#128161; For each schdeule type</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="73" y="339.1997">a Schedule and a Scheduler</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="73" y="354.3325">class are needed.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="73" y="369.4653"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="73" y="384.5981">The schedule class is used</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="73" y="399.731">to parse schedule settings</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="73" y="414.8638">and should hold all the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="73" y="429.9966">schedules data.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="73" y="445.1294"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="73" y="460.2622">The scheduler holds all</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="73" y="475.395">parsed schedules and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="73" y="490.5278">contains all scheduling,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="73" y="505.6606">catchup &amp; execution logic.</text></g><g id="elem_N3"><path d="M172,576 L172,661.6641 L772,661.6641 L772,586 L762,576 L172,576 " fill="#ECF3FF" style="stroke:#181818;stroke-width:0.5;"/><path d="M762,576 L762,586 L772,586 L762,576 " fill="#ECF3FF" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="484" x="178" y="593.0669">&#128395;️ To register a new schedule type implement a schedule &amp; scheduler class,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="515" x="178" y="608.1997">instantiate a schdeuler object and call the following method to register the type:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="178" y="623.3325"> </text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="579" x="178" y="638.4653">BetonQuest::registerScheduleType«S extends Schedule»(String, Class«S», Scheduler«S»)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="178" y="653.5981"> </text></g><!--MD5=[30edb8352c823a98548b753918b66b91]
reverse link Schedule to CronSchedule--><g id="link_Schedule_CronSchedule"><path d="M480.156,265.418 C479.415,278.498 478.666,291.73 477.938,304.598 " fill="none" id="Schedule-backto-CronSchedule" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="none" points="473.189,264.635,481.308,245.063,487.166,265.427,473.189,264.635" style="stroke:#000000;stroke-width:1.0;"/></g><!--MD5=[444676d053216cf9aa616b37f9eaee87]
reverse link Schedule to CatchupStrategy--><g id="link_Schedule_CatchupStrategy"><path codeLine="101" d="M609.825,254.527 C627.578,271.182 645.434,288.361 662,305 C678.694,321.767 696.301,340.742 711.761,357.878 " fill="none" id="Schedule-backto-CatchupStrategy" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="none" points="599.982,245.334,601.6371,252.3526,608.7524,253.5242,607.0973,246.5056,599.982,245.334" style="stroke:#000000;stroke-width:1.0;"/></g><!--MD5=[e2c8b6947ff46d21721ba3403250454a]
reverse link Scheduler to Schedule--><g id="link_Scheduler_Schedule"><path codeLine="102" d="M294.455,143.5 C301.566,143.5 308.677,143.5 315.788,143.5 " fill="none" id="Scheduler-backto-Schedule" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="none" points="281.224,143.5,287.224,147.5,293.224,143.5,287.224,139.5,281.224,143.5" style="stroke:#000000;stroke-width:1.0;"/></g><!--MD5=[9f078bc1dede354484ebe4081eedc3fa]
link CronSchedule to CatchupStrategy--><!--MD5=[2c6072f57354317d43903e4c2d032d09]
link Scheduler to N2--><!--MD5=[ff1029d345d509a2668a803adb1ac552]
link Schedule to N2--><!--MD5=[56ba381eeccab0dd697dcacf01c592ce]
link N2 to N3--><!--MD5=[6bdce4c60ff7446dee1181bfc61477d5]
link CronSchedule to N3--><!--MD5=[bd355ab748109e0054f18f7971cedb8e]
link CatchupStrategy to N3--><!--MD5=[1d61b0ccdb36201409f179929ee9859c]
@startuml
skinparam ArrowColor black
skinparam BackgroundColor transparent
skinparam class {
    StereotypeFontColor black
    FontColor black
    BackgroundColor #E5F8FB
    HeaderBackgroundColor #00B8D4
    BorderColor black
}
skinparam note {
    FontColor black
    BackgroundColor #ECF3FF
}


package "org.betonquest.betonquest.api.schedule" <<Frame>> {
    abstract class Schedule {
        + Schedule(ScheduleID, ConfigurationSection)
        ..
        # scheduleId : ScheduleID
        # time : String
        # events : List<EventID>
        # catchup : CatchupStrategy
        ..
        + getId() : ScheduleID
        + getTime() : String
        + getEvents() : List<EventID>
        + getCatchup() : CatchupStrategy
    }

    note right of Schedule::"Schedule(ScheduleID, ConfigurationSection)"
        ❗ Each Schedule must define a
        constructor that takes 
        exactly these two arguments.

        Otherwise BetonQuest will not
        be  able to construct a new 
        instance while parsing the 
        configuration.
    end note

    enum CatchupStrategy {
        NONE
        ..
        ONE
        ..
        ALL
    }

    abstract class CronSchedule extends Schedule {
        + {static} DEFAULT_CRON_DEFINITION : CronDefinition
        ..
        # timeCron : Cron
        # executionTime : ExecutionTime
        # onReboot : boolean
        ..
        + getTimeCron() : Cron
        + getExecutionTime() : ExecutionTime
        + shouldRunOnReboot(): boolean
        ..
        + getNextExecution() : Optional<Instant>
        + getLastExecution() : Optional<Instant>
    }

    abstract class Scheduler <S extends Schedule> {
        # schedules : Map<ScheduleID, S>
        # running : boolean
        ..
        + isRunning() : boolean
        ..
        + start() : void
        + stop() : void
        + addSchedule(S) : void
        + executeEvents(S) : void
    }

    note as N2
        💡 For each schdeule type
        a Schedule and a Scheduler
        class are needed. 

        The schedule class is used
        to parse schedule settings
        and should hold all the
        schedules data. 

        The scheduler holds all
        parsed schedules and
        contains all scheduling,
        catchup & execution logic.
    end note

    note as N3
        🖋️ To register a new schedule type implement a schedule & scheduler class,
        instantiate a schdeuler object and call the following method to register the type:
        
        <i>BetonQuest::registerScheduleType<<S extends Schedule>>(String, Class<<S>>, Scheduler<<S>>)</i>
        
    end note

    Schedule o-down- CatchupStrategy
    Scheduler o-right- Schedule
    CronSchedule -[hidden]right- CatchupStrategy 

    N2 -[hidden]up- Scheduler
    N2 -[hidden]up- Schedule

    N3 -[hidden]up- N2
    N3 -[hidden]up- CronSchedule
    N3 -[hidden]up- CatchupStrategy
}
@enduml

PlantUML version 1.2022.6beta5(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>